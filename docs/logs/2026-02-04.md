# 2026-02-04

## 目的 / 背景

- Quench（Custom Editor / Webview）内で `Tab` を押してもインデントできない問題を解消する。

## 症状（再現）

- Quench のエディタ上で `Tab` を押しても行/選択範囲がインデントされない（フォーカス移動になる/何も起きない）。

## 原因

- `src/webview/main.ts` の CodeMirror キーマップが Quench 独自アクションのみで構成されており、`Tab`（インデント）/`Shift-Tab`（アウトデント）のバインドが存在しなかった。

## 実施内容

- `src/webview/main.ts` に `indentMore` / `indentLess` を追加し、デフォルトで `Tab` / `Shift-Tab` を割り当てた。
- 設定UI（`src/extension/QuenchEditorProvider.ts`）に `Indent` / `Outdent` のキー設定項目を追加した。
- `@codemirror/commands` を導入してインデントコマンドを利用できるようにした。
- `CHANGELOG.md` を更新し、バージョンを `0.0.14` に更新した。
- Marketplace に `v0.0.14` を publish した。

## 実行したコマンド

- `npm install`
- `npm run build`
- `npx --no-install vsce package --out quench-markdown-editor-local-2026-02-04.vsix`
- `code --install-extension ./quench-markdown-editor-local-2026-02-04.vsix --force`
- `npm version 0.0.14 --no-git-tag-version`
- `npx --no-install vsce package --out quench-markdown-editor-0.0.14.vsix`
- `npx --no-install vsce publish --no-dependencies`

## 動作確認結果

- 実施したこと:
  - `npm run build` が成功（TypeScript compile / webview bundle）。
  - VSIX の作成とローカルインストールが成功。
  - Marketplace への publish が成功（`harukary7518.quench-markdown-editor v0.0.14`）。
- 未実施:
  - VS Code 実機で Quench を開き、`Tab` / `Shift-Tab` の挙動を確認。

## 既知のノイズ / 未解決 / 次のTODO

- `npm install` 実行時に脆弱性（critical）が1件報告された（本件とは別件）。必要なら `npm audit` で内容確認。
